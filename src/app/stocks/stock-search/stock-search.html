<div class="relative w-md mx-auto">
  <input
    type="text"
    class="input w-full"
    placeholder="Search stocks by symbol or name"
    [(ngModel)]="searchQuery"
    list="search-results"
  />
  @if (searchQuery().length <= 2) {
  } @else if (searchResults.isLoading()) {
    ...
  } @else if (searchResults.hasValue()) {
    @let resultsValue = searchResults.value();

    <ul
      class="absolute z-10 w-full mt-1 bg-white border rounded-md shadow-lg max-h-60 overflow-auto"
    >
      @if (resultsValue.count === 0) {
        <li class="px-2 py-2 text-gray-500">No results found</li>
      } @else {
        @for (result of resultsValue.result; track result.symbol) {
          <li class="px-2 py-2 hover:bg-blue-100 cursor-pointer group" (click)="addSymbol(result)">
            <div class="flex flex-col gap-2">
              <span class="font-bold">{{ result.symbol }}</span>
              <span class="text-sm text-gray-500">{{ result.description }}</span>
            </div>
          </li>
        }
      }
    </ul>
  }
</div>
